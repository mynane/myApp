{"version":3,"sources":["index.js"],"names":["connect","db","connection","on","Error","models","sync","root","forEach","model","require","app","module","exports","listen","port","console","log"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,mBAASA,OAAT,CAAiB,iBAAOC,EAAxB;AACA,IAAIA,KAAK,mBAASC,UAAlB;AACAD,GAAGE,EAAH,CAAM,OAAN,EAAe,YAAY;AACzB,QAAM,IAAIC,KAAJ,CAAU,sCAAsC,iBAAOH,EAAvD,CAAN;AACD,CAFD;;AAIA,IAAII,SAAS,eAAKC,IAAL,CAAU,iBAAOC,IAAP,GAAc,kBAAxB,CAAb;AACAF,OAAOG,OAAP,CAAe,UAAUC,KAAV,EAAiB;AAC9BC,UAAQD,KAAR;AACD,CAFD;AAGA,IAAIE,MAAM,wBAAV;;AAEAC,OAAOC,OAAP,GAAiBH,QAAQ,kBAAR,EAA4BC,GAA5B,mBAAjB;;AAEAA,IAAIG,MAAJ,CAAW,iBAAOC,IAAlB,EAAwB,YAAY;AAClCC,UAAQC,GAAR,CAAY,sCAAsC,iBAAOF,IAAzD;AACD,CAFD","file":"index.js","sourcesContent":["import express from 'express';\nimport glob from 'glob';\nimport mongoose from 'mongoose';\nimport config from '../config/config';\n\nmongoose.connect(config.db);\nvar db = mongoose.connection;\ndb.on('error', function () {\n  throw new Error('unable to connect to database at ' + config.db);\n});\n\nvar models = glob.sync(config.root + '/app/models/*.js');\nmodels.forEach(function (model) {\n  require(model);\n});\nvar app = express();\n\nmodule.exports = require('./config/express')(app, config);\n\napp.listen(config.port, function () {\n  console.log('Express server listening on port ' + config.port);\n});"]}